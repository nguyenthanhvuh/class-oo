<HEAD>
<TITLE>SWE 619 In Class Exercise Number 8B</TITLE>
</HEAD>
<BODY>

<CENTER>
 <H1>
  SWE 619 In Class Exercise Number 8B <BR>
 </H1>
</CENTER>

<HR>


<font size=+1>


<pre>
// Chooser - a class badly in need of generics!
// Bloch 3rd edition, Chapter 5, Item 28:  Prefer lists to arrays

public class Chooser {
   private final Object[] choiceArray;

   public Chooser (Collection choices) {
      choiceArray = choices.toArray();
   }

   public Object choose() { 
      Random rnd = ThreadLocalRandom.current();
      return choiceArray [rnd.nextInt(choiceArray.length)];
   }
}
</pre>
First, simply generify by adding a type to the <code>Chooser</code> class.
What is the compiler error with this approach?
<p>
How can you turn the compiler error into a compiler warning?
<p>
Can this warning be suppressed?  Should it?
<p>
How can you adopt Bloch's advice about
arrays and lists to get a typesafe <code>Chooser</code> class
without doing anything else that is complicated?
<p>
What would Liskov have to say about this class?
How should it evolve to address her concerns?
What is the appropriate place to deal with the problem?
Does an invariant help?  Is that a rep-invariant, or some other kind of invariant?
</font>


</BODY>
